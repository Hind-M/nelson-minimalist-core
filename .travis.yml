sudo: required
dist: trusty
language: cpp

cache:
  directories:
    - ${TRAVIS_BUILD_DIR}/deps

matrix:
  include:
    - compiler: gcc
      addons:
        apt:
          sources:
            - ubuntu-toolchain-r-test
          packages:
            - g++-6
      env: COMPILER=g++-6 TEST_CXX14=true BOOST_VERSION=1.61.0


before_install:
  - sudo add-apt-repository --yes ppa:beineri/opt-qt551-trusty
  - sudo add-apt-repository --yes ppa:ostogvin/tjo-develop
  - sudo apt-get update -qq
  - sudo apt-get install pkg-config
  - sudo apt-get install cmake
  - sudo apt-get install libffi-dev
  - sudo apt-get install libicu-dev
  - sudo apt-get install libxml2-dev
  - sudo apt-get -y install qt55base
  - sudo apt-get -y install qt55tools
  - sudo apt-get -y install boost1.60

install:
  - if [ $TRAVIS_OS_NAME == linux ]; then hg clone https://bitbucket.org/eigen/eigen#3.3 /tmp/eigen && mkdir /tmp/eigen-build && cd /tmp/eigen-build && cmake . /tmp/eigen && make && sudo make install && cd -; fi

script:
  - source /opt/qt55/bin/qt55-env.sh
  - echo ${COMPILER}
  - cd ${TRAVIS_BUILD_DIR} 
  - cmake -G "Unix Makefiles"
  - make
  
notifications:
  email: false
